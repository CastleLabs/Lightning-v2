[SYSTEM]
# This section contains system-wide settings for the application.
# Set to 'true' to enable test routes and additional logging.
# Do NOT use debug mode in a production environment.
debug = false

[SENSOR]
# Hardware configuration for the CJMCU-3935 lightning detector module (v2.0).
spi_bus = 0
spi_device = 0
irq_pin = 2

# NEW (v2.0): Set to 'true' if the sensor is used indoors.
# This adjusts the Analog Front-End (AFE) gain to reject man-made noise, per datasheet.
indoor = false

# Detection sensitivity: low, medium, or high.
sensitivity = medium

# Set to 'true' to start monitoring automatically when the application launches.
auto_start = true

# NOTE: polling_interval is no longer used in v2.0 event-driven architecture.
polling_interval = 1.0

[NOISE_HANDLING]
# Dynamic noise handling feature settings (v2.0)
# This feature differentiates between transient 'disturbers' and persistent 'noise'.
enabled = true

# Number of DISTURBER events required to trigger 'High' noise mode.
event_threshold = 15

# Time window in seconds for counting disturbers.
time_window_seconds = 120

# Noise floor level for 'High' mode (0-7). 'Critical' mode (from INT_NH) always uses 7.
raised_noise_floor_level = 5

# Minutes of quiet before reverting from High/Critical noise mode.
revert_delay_minutes = 10

[SLACK]
# Configuration for sending alerts to a Slack workspace.
# Get this from https://api.slack.com/apps -> Your App -> OAuth & Permissions
bot_token = xoxb-YOUR-BOT-TOKEN-HERE

# Channel name (e.g., #alerts) or user ID to send messages to.
channel = #alerts

# Master switch to enable or disable all Slack notifications.
enabled = true

[ALERTS]
# Configuration for the Alert System.
# Lightning within this distance triggers a CRITICAL alert.
critical_distance = 10

# Lightning within this distance (but further than critical_distance) triggers a WARNING alert.
warning_distance = 30

# Time in minutes without a new strike in a zone before an "All-Clear" message is sent.
all_clear_timer = 15

# The minimum energy value a lightning strike must have to trigger any alert.
energy_threshold = 100000

[LOGGING]
# Application logging settings.
# Log level: DEBUG, INFO, WARNING, ERROR.
level = INFO

# Maximum log file size in Megabytes (MB) before the file is rotated.
max_file_size = 10

# Number of old log files to keep after rotation.
backup_count = 5
